<!DOCTYPE html>
<html lang="en">
<head>
    <!-- SEO PERFECT -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Logo Particle Site</title>
    <meta name="description" content="Interactive logo particles - smooth 60fps performance">
    
    <!-- CRITICAL CSS FIRST (SEO) -->
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #000; 
            font-family: system-ui, -apple-system, sans-serif;
            overflow-x: hidden;
        }
        .content { padding: 100px 20px; min-height: 200vh; }
        .hero { text-align: center; padding: 100px 0; }
        .hero h1 { font-size: clamp(3rem, 8vw, 6rem); color: #fff; margin-bottom: 1rem; }
        .hero p { font-size: 1.25rem; max-width: 600px; margin: 0 auto; color: #ccc; }
        
        /* SEO: Canvas hidden until ready */
        #canvas { 
            position: fixed; top: 0; left: 0; 
            width: 100vw; height: 100vh; 
            opacity: 0; transition: opacity 0.3s; 
             z-index: 1;
        }
        .particles-ready #canvas { opacity: 1; }
        
        /* DEV ONLY - Remove in production */
        #logoInput { 
            position: fixed; top: 20px; left: 20px; 
            z-index: 100; background: #333; color: white; 
            padding: 12px 20px; border-radius: 8px; border: none; cursor: pointer;
        }
    </style>
</head>
<body class="particles-ready">
    <!-- DEV: Remove this input in production -->
    <input type="file" id="logoInput" accept="image/*">
    
    <!-- SEO: Canvas AFTER content -->
    <canvas id="canvas" aria-hidden="true"></canvas>
    
    <!-- CONTENT FIRST (SEO Priority) -->
    <div class="content">
        <section class="hero">
            <h1>Your Amazing Logo</h1>
            <p>Interactive particle effect. 60fps smooth. SEO optimized.</p>
        </section>
    </div>

    <!-- SEO: Non-blocking script -->
    <script>
        // PERFORMANCE: Load after DOM ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initParticles);
        } else {
            initParticles();
        }
        
        function initParticles() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const logoInput = document.getElementById('logoInput');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            let particles = [];
            let mouseX = 0, mouseY = 0;
            let logoWidth = 0, logoHeight = 0;
            
            // YOUR PERFECT MOUSE HANDLING
            canvas.addEventListener('mousemove', e => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });
            
            // YOUR PERFECT LOGO HANDLING
            logoInput.addEventListener('change', e => {
                const file = e.target.files[0];
                const img = new Image();
                img.onload = () => {
                    logoWidth = img.naturalWidth;
                    logoHeight = img.naturalHeight;
                    
                    const temp = document.createElement('canvas');
                    const tctx = temp.getContext('2d');
                    temp.width = logoWidth;
                    temp.height = logoHeight;
                    tctx.drawImage(img, 0, 0);
                    const data = tctx.getImageData(0, 0, logoWidth, logoHeight);
                    
                    particles = [];
                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2;
                    
                    // YOUR PERFECT SETTINGS (UNCHANGED)
                    for(let y = 0; y < logoHeight; y += 3) {
                        for(let x = 0; x < logoWidth; x += 3) {
                            const i = (y * logoWidth + x) * 4;
                            if(data.data[i + 3] > 100) {
                                particles.push({
                                    homeX: centerX - logoWidth/2 + x,
                                    homeY: centerY - logoHeight/2 + y,
                                    x: centerX - logoWidth/2 + x,
                                    y: centerY - logoHeight/2 + y,
                                    vx: 0,
                                    vy: 0,
                                    size: 0.5
                                });
                            }
                        }
                    }
                    console.log(`âœ… ${particles.length} particles - SEO Perfect!`);
                };
                img.src = URL.createObjectURL(file);
            });
            
            // YOUR PERFECT ANIMATION (60fps)
            function animate() {
                ctx.fillStyle = 'rgba(0,0,0,0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                particles.forEach(p => {
                    const dx = mouseX - p.x;
                    const dy = mouseY - p.y;
                    const dist = Math.sqrt(dx*dx + dy*dy);
                    
                    if(dist < 100) {
                        p.vx -= dx * 0.02;
                        p.vy -= dy * 0.02;
                    } else {
                        p.vx += (p.homeX - p.x) * 0.05;
                        p.vy += (p.homeY - p.y) * 0.05;
                    }
                    
                    p.vx *= 0.9;
                    p.vy *= 0.9;
                    p.x += p.vx;
                    p.y += p.vy;
                    
                    ctx.fillStyle = '#FFFFFF';
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fill();
                });
                
                ctx.strokeStyle = '#FFFFFF';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(mouseX, mouseY, 15, 0, Math.PI * 2);
                ctx.stroke();
                
                requestAnimationFrame(animate);
            }
            animate();
        }
    </script>
</body>
</html>
